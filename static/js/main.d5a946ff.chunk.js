(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),c=a.n(o),l=(a(84),a(36)),i=a(5),s=a(6),u=a(8),m=a(7),d=a(9),h=a(61),p=a(205),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={query:"cat"},a.onChange=function(e){return a.setState({query:e.target.value})},a.onSubmit=function(e){e.preventDefault(),(0,a.props.onSubmit)(a.state.query)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.query;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit,className:"search-form"},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:e,onChange:this.onChange})))}}]),t}(r.a.Component),f=a(35),b=a.n(f),v=a(62),y=a.n(v),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleBackdropClick=function(e){var t=a.props.onClose;"IMG"!==e.target.tagName&&t()},a.handleKeyPress=function(e){var t=a.props.onClose;"Escape"===e.code&&t()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{onClick:this.handleBackdropClick,className:y.a.backdrop,"aria-hidden":"true"},e)}}]),t}(r.a.Component),k=a(4),w=a.n(k),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isToggle:!1},a.handleToggle=function(){return a.setState(function(e){return{isToggle:!e.isToggle}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return(0,this.props.children)({isToggle:this.state.isToggle,handleToggle:this.handleToggle})}}]),t}(r.a.Component),j=function(e){var t=e.thumb,a=e.largeImage,n=e.likes,o=e.views,c=e.comments,l=e.downloads;return r.a.createElement("div",{className:w.a.galleryItem},r.a.createElement(b.a,{debounce:!1,height:260},r.a.createElement("img",{className:w.a.img,src:t,alt:""})),r.a.createElement("div",{className:w.a.stats},r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),n),r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),o),r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),c),r.a.createElement("p",{className:w.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),l)),r.a.createElement(_,null,function(e){var t=e.isToggle,n=e.handleToggle;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:w.a.fullscreenButton,onClick:n},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")),t&&r.a.createElement(E,{onClose:n},r.a.createElement(b.a,null,r.a.createElement("img",{src:a,alt:""}))))}))},O=function(e){var t=e.items;return t.length>0?r.a.createElement("div",{className:"gallery"},t.map(function(e){return r.a.createElement(j,Object.assign({key:e.id},e))})):r.a.createElement("p",null,"No images")};O.defaultProps={items:[]};var I=O,N="12509636-53caf59f5bb94c5e817c60f6e";function C(e){return e.map(function(e){return{id:e.id,thumb:e.webformatURL,largeImage:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}})}var S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],isLoading:!1,error:null,page:1,query:""},a.onSubmit=function(e){a.setState({page:1,query:e})},a.fetchData=function(e,t){return a.setState({isLoading:!0}),h.get(e).then(function(e){a.setState({items:[].concat(Object(l.a)(t),Object(l.a)(C(e.data.hits)))})}).catch(function(e){return a.setState({error:e})}).finally(function(){return a.setState({isLoading:!1})})},a.loadMore=function(e){e.preventDefault(),a.setState(function(e){return{page:e.page+1}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.items,r=a.page,o=a.query;if(r!==t.page||o!==t.query){var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=20&key=").concat(N)}(o,r);1===r?this.fetchData(c,[]):this.fetchData(c,n).then(function(){var e=document.body,t=e.offsetHeight,a=e.scrollHeight-t;window.scrollBy({top:a,behavior:"smooth"})})}}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.error,n=e.isLoading;return r.a.createElement("div",null,r.a.createElement(g,{onSubmit:this.onSubmit}),r.a.createElement(p.a,{active:n,inline:"centered"}),r.a.createElement(I,{items:t}),t.length>0&&r.a.createElement("button",{type:"button",onClick:this.loadMore,className:"button",disabled:null!==a},"Load more"))}}]),t}(r.a.Component);c.a.render(r.a.createElement(S,null),document.getElementById("root"))},4:function(e,t,a){e.exports={galleryItem:"GalleryItem_galleryItem__2-SKW",img:"GalleryItem_img__1hel6",stats:"GalleryItem_stats__3UaTb",statsItem:"GalleryItem_statsItem__2r0nT",fullscreenButton:"GalleryItem_fullscreenButton__Crqai"}},62:function(e,t,a){e.exports={backdrop:"Modal_backdrop__2EYcB"}},79:function(e,t,a){e.exports=a(203)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.d5a946ff.chunk.js.map